<div class="fixed inset-0 bg-black/75 flex items-center justify-center z-50">
  <div
    class="bg-[#0e1d33] border border-white/10 rounded-lg w-[90%] max-w-2xl max-h-[90vh] overflow-y-auto p-6"
  >
    <div
      class="flex items-center justify-between pb-4 border-b border-white/10"
    >
      <div class="flex items-center gap-2">
        <span class="text-white text-opacity-60">{{
          "EDIT_CREW_MODAL.BREADCRUMB.MODULE" | translate
        }}</span>
        <span class="text-white text-opacity-40 mx-2">></span>
        <span class="text-white text-opacity-60">{{
          "EDIT_CREW_MODAL.BREADCRUMB.TITLE" | translate
        }}</span>
      </div>
      <button
        mat-icon-button
        class="text-white text-opacity-70 hover:text-opacity-100"
        (click)="closeModal()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <form
      [formGroup]="formGroup"
      (ngSubmit)="onSubmit()"
      class="flex flex-col gap-4 mt-6"
    >
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.FIRST_NAME" | translate }}</mat-label>
        <input
          matInput
          formControlName="first_name"
          required
          [placeholder]="'ADD_CREW_MODAL.FIRST_NAME' | translate"
        />
        <mat-error *ngIf="formGroup.get('first_name')?.hasError('required')">
          {{ "ADD_CREW_MODAL.FIRST_NAME.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.LAST_NAME" | translate }}</mat-label>
        <input
          matInput
          formControlName="last_name"
          required
          [placeholder]="'ADD_CREW_MODAL.LAST_NAME' | translate"
        />
        <mat-error *ngIf="formGroup.get('last_name')?.hasError('required')">
          {{ "ADD_CREW_MODAL.LAST_NAME.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.NATIONALITY" | translate }}</mat-label>
        <input
          matInput
          formControlName="nationality"
          required
          [placeholder]="'ADD_CREW_MODAL.NATIONALITY' | translate"
        />
        <mat-error *ngIf="formGroup.get('nationality')?.hasError('required')">
          {{ "ADD_CREW_MODAL.NATIONALITY.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.TITLE" | translate }}</mat-label>
        <mat-select formControlName="title">
          <mat-option *ngFor="let title of titles" [value]="title">
            {{ title.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="formGroup.get('title')?.hasError('required')">
          {{ "ADD_CREW_MODAL.TITLE.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.CERTIFICATES" | translate }}</mat-label>
        <mat-select formControlName="certificate" multiple>
          <mat-option
            *ngFor="let certificate of crewCertificates"
            [value]="certificate"
          >
            {{ certificate.title }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="formGroup.get('certificate')?.hasError('required')">
          {{ "ADD_CREW_MODAL.CERTIFICATES.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.DAYS_ON_BOARD" | translate }}</mat-label>
        <input
          matInput
          type="number"
          formControlName="days_on_board"
          required
          [placeholder]="'ADD_CREW_MODAL.DAYS_ON_BOARD' | translate"
        />
        <mat-error *ngIf="formGroup.get('days_on_board')?.hasError('required')">
          {{ "ADD_CREW_MODAL.DAYS_ON_BOARD.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.DAILY_RATE" | translate }}</mat-label>
        <input
          matInput
          type="number"
          formControlName="daily_rate"
          required
          [placeholder]="'ADD_CREW_MODAL.DAILY_RATE' | translate"
        />
        <mat-error *ngIf="formGroup.get('daily_rate')?.hasError('required')">
          {{ "ADD_CREW_MODAL.DAILY_RATE.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>{{ "EDIT_CREW_MODAL.CURRENCY" | translate }}</mat-label>
        <mat-select formControlName="currency">
          <mat-option *ngFor="let currency of currencies" [value]="currency">
            {{ currency }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="formGroup.get('currency')?.hasError('required')">
          {{ "ADD_CREW_MODAL.CURRENCY.REQUIRED" | translate }}
        </mat-error>
      </mat-form-field>

      <div class="flex justify-end items-center gap-4 mt-6">
        <button
          mat-fab
          extended
          type="button"
          (click)="onCancel()"
          class="bg-white/10 text-white hover:bg-white/20"
        >
          <mat-icon>close</mat-icon>
          {{ "EDIT_CREW_MODAL.FOOTER.CANCEL" | translate }}
        </button>
        <button
          mat-fab
          extended
          type="submit"
          [disabled]="!formGroup.valid"
          class="bg-blue-600 text-white hover:bg-blue-700 disabled:bg-white/10 disabled:text-white/30"
        >
          <mat-icon>save</mat-icon>
          {{ "EDIT_CREW_MODAL.FOOTER.SUBMIT" | translate }}
        </button>
      </div>
    </form>
  </div>
</div>
